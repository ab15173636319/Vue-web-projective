"use strict";(self["webpackChunkvuecli_router_vuer"]=self["webpackChunkvuecli_router_vuer"]||[]).push([[513],{12513:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("login-query-info"),n("div",{staticClass:"UserContainer"},[n("div",{staticClass:"UserTop"},[n("div",{staticClass:"img-userinfo"},[n("img",{attrs:{src:e.userinfo.img,alt:""}}),n("div",[n("h2",[e._v(e._s(e.user.nickname))]),e.TypeVisible?n("input",{directives:[{name:"model",rawName:"v-model",value:e.modiInfo,expression:"modiInfo"}],attrs:{type:"text",value:""},domProps:{value:e.modiInfo},on:{blur:function(t){return e.modiinfo()},input:function(t){t.target.composing||(e.modiInfo=t.target.value)}}}):n("div",[""!=e.userinfo.info?n("h4",[e._v(e._s(e.userinfo.info))]):n("h4",[e._v("这个人很懒，什么也没写QAQ~~")])])])])]),n("div",{staticClass:"navigation"},[n("div",{staticClass:"navigation-top",on:{mouseleave:function(t){return e.BackOringin()}}},[n("div",{staticClass:"navigation-left"},[n("div",{class:{active:1==e.tab},attrs:{id:"me"},on:{mouseover:function(t){return e.ChickLeft("me")},click:function(t){e.ChangeOrigin("me"),e.tab=1}}},[n("i",{staticClass:"iconfont icon-liuyanban"}),e._v("留言")]),n("div",{class:{active:2==e.tab},attrs:{id:"pl"},on:{mouseover:function(t){return e.ChickLeft("pl")},click:function(t){e.ChangeOrigin("pl"),e.tab=2}}},[n("i",{staticClass:"iconfont icon-pinglun"}),e._v("评论")]),n("div",{class:{active:3==e.tab},attrs:{id:"fs"},on:{mouseover:function(t){return e.ChickLeft("fs")},click:function(t){e.ChangeOrigin("fs"),e.tab=3}}},[n("i",{staticClass:"iconfont icon-dianzan1"}),e._v("我的粉丝")]),n("div",{class:{active:4==e.tab},attrs:{id:"gz"},on:{mouseover:function(t){return e.ChickLeft("gz")},click:function(t){e.ChangeOrigin("gz"),e.tab=4}}},[n("i",{staticClass:"iconfont icon-yiguanzhu"}),e._v("我的关注")])]),n("div",{staticClass:"navigation-right"},[n("div",[e._v(" 粉丝数"),n("div",[e._v(e._s(e.userotherinfo.followMe))])]),n("div",[e._v(" 关注数"),n("div",[e._v(e._s(e.userotherinfo.follow))])]),n("div",[e._v(" 获赞数"),n("div",[e._v(e._s(e.PariseCount))])])])]),n("div",{staticClass:"navigation-foot",style:e.bottomleft})]),n("div",{staticClass:"Container"},[n("div",{staticClass:"Container-left"},[1==e.tab?n("div",{staticClass:"infinite-list-wrapper",staticStyle:{overflow:"auto"}},[e.lengthIsZhro?n("img",{staticClass:"Noresult",attrs:{src:s(48611),alt:""}}):e._e(),n("ul",{staticClass:"list",attrs:{"infinite-scroll-disabled":"disabled"}},e._l(e.Mlist,(function(t){return n("li",{key:t.umid,staticClass:"list-item messageUser"},[n("img",{attrs:{src:t.userInfo.img,alt:""}}),n("div",[n("div",{staticClass:"message-name"},[n("div",[n("h3",[e._v(e._s(t.user.nickname))]),n("h6",[e._v(e._s(e._f("timer")(t.lastupdate)))])]),e.TypeVisible?n("div",[n("i",{staticClass:"iconfont icon-gengduo-shuxiang message-more",on:{click:function(s){e.DelClass=!0,e.id=t.umid}}}),t.umid==e.id?n("div",{staticClass:"message-del",class:{active:e.DelClass},on:{click:function(s){return e.DelMessage(t.umid)}}},[e._v("删除")]):e._e()]):e._e()]),n("div",{staticClass:"message-title"},[n("div",{on:{click:function(s){return e.MessageDetail(t.umid)}}},[e._v(e._s(t.title))])]),n("div",{staticClass:"message-option"},[n("i",{staticClass:"iconfont icon-dianzan dianzhan",class:{active:t.praise},on:{click:function(s){return e.PriseForMessage(t.umid)}}},[e._v(e._s(t.praiseCount))]),n("i",{staticClass:"iconfont icon-pinglun"},[e._v(e._s(t.replyCount))]),n("i",{staticClass:"iconfont icon-yanjing"},[e._v(e._s(t.hits))])])])])})),0),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.page.total},on:{"current-change":e.handleCurrentChange}})],1)]):e._e(),2==e.tab?n("div",{staticClass:"infinite-list-wrapper",staticStyle:{overflow:"auto"}},[e.lengthIsZhro2?n("img",{staticClass:"Noresult",attrs:{src:s(48611),alt:""}}):e._e(),n("ul",{staticClass:"list",attrs:{"infinite-scroll-disabled":"disabled"}},e._l(e.CommentList,(function(t){return n("li",{key:t.umrid,staticClass:"list-item messageUser"},[n("img",{attrs:{src:t.userInfo.img,alt:""}}),n("div",[n("div",{staticClass:"message-name"},[n("div",[n("h3",[e._v(e._s(t.user.nickname))]),n("h6",[e._v(e._s(e._f("timer")(t.lastupdate)))])]),e.TypeVisible?n("div",[n("i",{staticClass:"iconfont icon-gengduo-shuxiang message-more",on:{click:function(s){e.DelClass=!0,e.id=t.umrid}}}),t.umrid==e.id?n("div",{staticClass:"message-del",class:{active:e.DelClass},on:{click:function(s){return e.DelComment(t.umrid,t.info)}}},[e._v("删除")]):e._e()]):e._e()]),n("div",{staticClass:"message-title"},[n("div",{domProps:{innerHTML:e._s(t.info)},on:{click:function(s){return e.MessageDetail(t.umid)}}})]),n("div",{staticClass:"message-option"},[n("i",{staticClass:"iconfont icon-dianzan dianzhan",class:{active:t.praise},on:{click:function(s){return e.PriseForMessage(t.umid)}}},[e._v(e._s(t.praiseCount))])])])])})),0),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.CommentInfo.page.total},on:{"current-change":e.ChangeComment}})],1)]):e._e(),3==e.tab?n("div",{staticClass:"UserFans"},[n("div",{staticClass:"fanstitle"},[e._v("粉丝 ")]),e.lengthIsZhro3?n("img",{staticClass:"Noresult",attrs:{src:s(48611),alt:""}}):e._e(),e._m(0),e._l(e.FansList,(function(t){return n("div",{key:t.uid,staticClass:"fans"},[n("div",{staticClass:"fans2"},[n("div",{staticClass:"fansinfo"},[n("img",{attrs:{src:t.userInfo.img,alt:""},on:{click:function(s){return e.ToUserCebter(t.user.username)}}}),n("div",{staticClass:"fansname"},[n("div",{on:{click:function(s){return e.ToUserCebter(t.user.username)}}},[e._v(e._s(t.user.nickname))]),n("div",[e._v(e._s(t.userInfo.info))])])]),e.LoginUserInfo.tbUser.username!=t.user.username?n("div",{staticClass:"fansother"},[t.userOtherInfo.mineFollow?n("div",{staticClass:"eachotherfans",on:{click:function(s){return e.FllowUser(t.user.username)}}},[e._v("已互粉")]):n("div",{staticClass:"nofllow",attrs:{s:""},on:{click:function(s){return e.FllowUser(t.user.username)}}},[e._v("关注")])]):e._e()]),e._m(1,!0)])})),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.queryfansinfo.page.total},on:{"current-change":e.ChangeComment}})],1)],2):e._e(),4==e.tab?n("div",{staticClass:"UserFans"},[n("div",{staticClass:"fanstitle"},[e._v("我的关注 ")]),e.lengthIsZhro4?n("img",{staticClass:"Noresult",attrs:{src:s(48611),alt:""}}):e._e(),e._m(2),e._l(e.Fllowlist,(function(t){return n("div",{key:t.uid,staticClass:"fans"},[n("div",{staticClass:"fans2"},[n("div",{staticClass:"fansinfo"},[n("img",{attrs:{src:t.userInfo.img,alt:""},on:{click:function(s){return e.ToUserCebter(t.user.username)}}}),n("div",{staticClass:"fansname"},[n("div",{on:{click:function(s){return e.ToUserCebter(t.user.username)}}},[e._v(e._s(t.user.nickname))]),n("div",[e._v(e._s(t.userInfo.info))])])]),e.LoginUserInfo.tbUser.username!=t.user.username?n("div",{staticClass:"fansother"},[t.userOtherInfo.mineFollow||e.TypeVisible?n("div",{staticClass:"eachotherfans",on:{click:function(s){return e.FllowUser(t.user.username)}}},[e._v("已互粉")]):n("div",{staticClass:"nofllow",attrs:{s:""},on:{click:function(s){return e.FllowUser(t.user.username)}}},[e._v("关注")])]):e._e()]),e._m(3,!0)])})),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.queryfllow.page.total},on:{"current-change":e.ChangeComment}})],1)],2):e._e()]),n("div",{staticClass:"Container-right"},[n("div",[n("div",[e._v("个人资料")]),n("div",{on:{click:function(t){return e.tomodiyi()}}},[e._v("修改信息")])]),n("div",[n("div",[e._v("账号："+e._s(e.user.username))]),n("div",[e._v("邮箱："+e._s(e.userinfo.email))]),n("div",[e._v("电话："+e._s(e.userinfo.phone))]),n("div",[e._v("QQ："+e._s(e.userinfo.qq))]),n("div",[e._v("微信："+e._s(e.userinfo.wechat))])])])])]),n("bei-an")],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fonsbottomline"},[s("div")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fonsbottomline"},[s("div")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fonsbottomline"},[s("div")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fonsbottomline"},[s("div")])}],a=s(6768),o=(s(41539),s(40561),s(36369)),r=(s(3336),s(9653),s(74916),s(15306),s(21703),s(23123),s(57327),s(4723),s(26699),s(32023),o["default"].prototype.$isServer),u=(r||Number(document.documentMode),function(){return!r&&document.addEventListener?function(e,t,s){e&&t&&s&&e.addEventListener(t,s,!1)}:function(e,t,s){e&&t&&s&&e.attachEvent("on"+t,s)}}());(function(){!r&&document.removeEventListener})();var l,c=[],f="@@clickoutsideContext",m=0;function g(e,t,s){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(s&&s.context&&n.target&&i.target)||e.contains(n.target)||e.contains(i.target)||e===n.target||s.context.popperElm&&(s.context.popperElm.contains(n.target)||s.context.popperElm.contains(i.target))||(t.expression&&e[f].methodName&&s.context[e[f].methodName]?s.context[e[f].methodName]():e[f].bindingFn&&e[f].bindingFn())}}!o["default"].prototype.$isServer&&u(document,"mousedown",(function(e){return l=e})),!o["default"].prototype.$isServer&&u(document,"mouseup",(function(e){c.forEach((function(t){return t[f].documentHandler(e,l)}))}));var d,v={bind:function(e,t,s){c.push(e);var n=m++;e[f]={id:n,documentHandler:g(e,t,s),methodName:t.expression,bindingFn:t.value}},update:function(e,t,s){e[f].documentHandler=g(e,t,s),e[f].methodName=t.expression,e[f].bindingFn=t.value},unbind:function(e){for(var t=c.length,s=0;s<t;s++)if(c[s][f].id===e[f].id){c.splice(s,1);break}delete e[f]}},p=s(19868),h=s(22996),C={directives:{Clickoutside:v},components:{LoginQueryInfo:a.Z,BeiAn:h.Z},name:"UserDetail",data:function(){return{title:"用户详细信息",Type:this.$route.query.what,username:this.$route.query.username,bottomleft:{left:"0px",width:"50px"},Originbottomleft:{left:"0px",width:"50px"},tab:1,user:{},userinfo:{},userotherinfo:{},modiInfo:"编辑个性签名吧",PariseCount:0,Mlist:"",id:0,DelClass:!1,lengthIsZhro:!1,lengthIsZhro2:!1,lengthIsZhro3:!1,lengthIsZhro4:!1,page:{pageSize:5,pageNumber:1},CommentList:[],CommentInfo:{page:{pageSize:5,pageNumber:1}},TypeVisible:!1,pageNumber:1,FansList:[],queryfansinfo:{page:{pageSize:5,pageNumber:1}},Fllowlist:[],queryfllow:{page:{pageSize:5,pageNumber:1}}}},computed:{LoginUserInfo:function(){return this.$store.state.loginUser}},mounted:function(){document.addEventListener("click",(function(e){"iconfont icon-gengduo-shuxiang message-more"!=e.target.className&&(d.DelClass=!1)})),0==d.LoginUserInfo.isLogin&&d.$router.push("/Login")},beforeDestroy:function(){window.removeEventListener("click",(function(){}),!0)},methods:{tomodiyi:function(){this.$router.push({path:"/user",query:{what:"setting"}})},ToUserCebter:function(e){d.$router.push({path:"/Jump",query:{what:"themself",username:e}})},FllowUser:function(e){p.Z.ajax("/message/followUser",{username:e},(function(){d.QueryUserFans()}))},QueryFllow:function(){d.queryfllow["username"]=d.username,d.queryfllow.pageNumber=d.queryfllow.page.pageNumber,d.queryfllow.pageSize=d.queryfllow.page.pageSize,p.Z.ajax("/message/queryFollowUserListByName",d.queryfllow,(function(e){d.Fllowlist=e.list,0==e.list&&(d.lengthIsZhro4=!0)}))},QueryUserFans:function(){d.queryfansinfo["username"]=d.username,d.queryfansinfo.pageNumber=d.queryfansinfo.page.pageNumber,d.queryfansinfo.pageSize=d.queryfansinfo.page.pageSize,p.Z.ajax("/message/queryFollowMeUserListByName",d.queryfansinfo,(function(e){d.FansList=e.list,0==e.list&&(d.lengthIsZhro3=!0)}))},DelComment:function(e,t){var s=this;this.$confirm('此操作将永久删除该"'+t+'"评论, 是否继续?',{confirmButtonText:"就算玉皇大帝来了都救不了",cancelButtonText:"我回心转意了",type:"warning"}).then((function(){p.Z.ajax("/message/manage/deletUserMessageReply",{umrid:e},(function(e){s.$message({type:"warning",message:e.message}),d.QueryUserComment()}))})).catch((function(){s.$message({type:"success",message:"已取消删除"})}))},QueryUserComment:function(){d.CommentInfo["username"]=d.username,d.CommentInfo.pageNumber=d.CommentInfo.page.pageNumber,d.CommentInfo.pageSize=d.CommentInfo.page.pageSize,p.Z.ajax("/message/queryReplyByUsername",d.CommentInfo,(function(e){0==e.list.length&&(d.lengthIsZhro2=!0),d.CommentList=e.list,d.CommentInfo.page=e.page}))},ChangeComment:function(e){d.CommentInfo.page.pageNumber=e,d.QueryUserComment()},handleCurrentChange:function(e){d.page.pageNumber=e,1==d.TypeVisible?d.QueryUserAllMessage():d.QueryPorintMessage()},PriseForMessage:function(e){1==d.LoginUserInfo.isLogin?(console.log(e),p.Z.ajax("/message/support",{umid:e},(function(e){e.success?1==d.TypeVisible?d.QueryUserAllMessage():d.QueryPorintMessage():d.$message.error(e.message)}))):d.LoginVisible=!0},MessageDetail:function(e){d.$router.push({path:"/MessageDetail",query:{umid:e}})},DelMessage:function(e){p.Z.ajax("/message/manage/deletUserMessage",{umid:e},(function(e){e.success?d.QueryUserAllMessage():d.$message.error(e.message)}))},QueryUserAllMessage:function(){1==d.TypeVisible&&p.Z.ajax("/message/manage/queryUserAll",d.page,(function(e){d.Mlist=e.list,d.page=e.page,0==d.Mlist.length&&(d.lengthIsZhro=!0)}))},QueryPorintMessage:function(){if(0==d.TypeVisible){var e={username:d.username,pageSize:d.page.pageSize,pageNumber:d.page.pageNumber};p.Z.ajax("/message/queryAll",e,(function(e){d.Mlist=e.list,d.page=e.page,0==d.Mlist.length&&(d.lengthIsZhro=!0)}))}},FindUser:function(){0==d.TypeVisible&&p.Z.ajax("/user/auth/getUserInfoByName",{username:d.username},(function(e){console.log("User:",e),d.user=e.tbUser,d.userinfo=e.tbUserInfo,d.userotherinfo=e.userOtherInfo,d.PariseCount=d.userotherinfo.supporteMessage+d.userotherinfo.supporteReply}))},QueryUserIfTypeIsMyself:function(){1==this.TypeVisible&&(d.user=d.LoginUserInfo.tbUser,d.userinfo=d.LoginUserInfo.tbUserInfo,d.userotherinfo=d.LoginUserInfo.userOtherInfo,d.PariseCount=d.userotherinfo.supporteMessage+d.userotherinfo.supporteReply)},queryType:function(){"Myself"==d.Type?d.TypeVisible=!0:d.TypeVisible=!1},ChickLeft:function(e){var t=document.getElementById(e);d.bottomleft.left=t.offsetLeft-16+"px",d.bottomleft.width=t.offsetWidth+"px"},BackOringin:function(){d.bottomleft.left=d.Originbottomleft.left,d.bottomleft.width=d.Originbottomleft.width},ChangeOrigin:function(e){var t=document.getElementById(e);d.Originbottomleft.left=t.offsetLeft-16+"px",d.Originbottomleft.width=t.offsetWidth+"px"},showinfo:function(){d.modiInfo=d.LoginUserInfo.tbUserInfo.info},modiinfo:function(){p.Z.ajax("/user/auth/updateUserInfo",{info:d.modiInfo},(function(){d.$store.dispatch("updateUserInfo")}))}},created:function(){d=this,d.queryType(),d.QueryUserAllMessage(),d.QueryPorintMessage(),d.QueryUserIfTypeIsMyself(),d.FindUser(),d.showinfo(),d.QueryUserComment(),d.QueryUserFans(),d.QueryFllow()}},y=C,_=s(1001),b=(0,_.Z)(y,n,i,!1,null,"12e0d35e",null),I=b.exports},48611:function(e,t,s){e.exports=s.p+"img/搜索无结果.dcf01b77.png"}}]);