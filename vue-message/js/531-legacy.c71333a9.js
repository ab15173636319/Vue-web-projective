"use strict";(self["webpackChunkvuecli_router_vuer"]=self["webpackChunkvuecli_router_vuer"]||[]).push([[531],{93531:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var i=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("login-query-info"),i("nav",{staticClass:"navTop"},[i("div",{style:e.bottomleft,attrs:{id:"b"}}),i("div",{attrs:{id:"f"},on:{click:function(n){e.ChangeOrigin("f"),e.tab=1,e.queryMyFriend("friend")},mousemove:function(n){return e.ChickLeft("f")},mouseout:function(n){return e.BackOringin()}}},[e._v("好友")]),i("div",{attrs:{id:"s"},on:{click:function(n){e.ChangeOrigin("s"),e.tab=2},mousemove:function(n){return e.ChickLeft("s")},mouseout:function(n){return e.BackOringin()}}},[e._v("搜索")]),i("div",{attrs:{id:"q"},on:{click:function(n){e.ChangeOrigin("q"),e.tab=3,e.queryMyFriend("apply")},mousemove:function(n){return e.ChickLeft("q")},mouseout:function(n){return e.BackOringin()}}},[e._v("申请")])]),1==e.tab?i("div",{staticClass:"friendBar"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"friend",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 1)"}},[i("span",[e._v("好友")]),i("div",{staticClass:"friendlist"},[e.Arrow?i("img",{staticClass:"Noresult",attrs:{src:t(48611),alt:""}}):e._e(),e._l(e.friendInfo,(function(n){return i("div",{key:n.uid},[i("div",{staticClass:"friendName"},[i("img",{attrs:{src:n.userInfo.img,alt:""}}),i("div",{on:{click:function(t){return e.ToUserDetail(n.user.username)}}},[i("div",[e._v("昵称："+e._s(n.user.nickname))]),i("div",[e._v("账号："+e._s(n.user.username))])])]),i("div",{staticClass:"friendOther"},[i("div",{staticClass:"iconfont icon-lianxi chat",on:{click:function(t){return e.toChat(n.user.username)}}},[e._v("聊天")]),i("div",{staticClass:"iconfont icon-shanchu del",on:{click:function(t){return e.DelFriend(n.user.username)}}},[e._v("删除好友")])])])}))],2),i("div",{staticClass:"pagonation"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":e.page.pageNumber,layout:"prev, pager, next,total",total:e.page.total},on:{"update:currentPage":function(n){return e.$set(e.page,"pageNumber",n)},"update:current-page":function(n){return e.$set(e.page,"pageNumber",n)},"current-change":function(n){return e.queryMyFriend("friend")}}})],1)])]):e._e(),2==e.tab?i("div",{staticClass:"friendBar"},[i("div",{staticClass:"friend"},[i("div",{staticClass:"friendsearbar"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchinfo.username,expression:"searchinfo.username"}],attrs:{placeholder:"用户搜索",type:"text"},domProps:{value:e.searchinfo.username},on:{input:function(n){n.target.composing||e.$set(e.searchinfo,"username",n.target.value)}}}),i("span",{on:{click:function(n){return e.SearchFriend()}}},[e._v("搜索")])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"friendlist",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 1)"}},[e.Arrow2?i("img",{staticClass:"Noresult",attrs:{src:t(48611),alt:""}}):e._e(),e._l(e.Searchlist,(function(n){return i("div",{key:n.uid},[i("div",{staticClass:"friendName"},[i("div",{on:{click:function(t){return e.ToUserDetail(n.user.username)}}},[i("div",[e._v("昵称："+e._s(n.user.nickname))]),i("div",[e._v("账号："+e._s(n.user.username))])])]),i("div",{staticClass:"friendOther"},[i("div",{staticClass:"iconfont icon-add chat",on:{click:function(t){return e.application(n.user.username)}}},[e._v("申请好友")])])])}))],2),i("div",{staticClass:"pagonation"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":e.searchinfo.pageNumber,layout:"prev, pager, next,total",total:e.searchinfo.total},on:{"update:currentPage":function(n){return e.$set(e.searchinfo,"pageNumber",n)},"update:current-page":function(n){return e.$set(e.searchinfo,"pageNumber",n)},"current-change":function(n){return e.SearchFriend()}}})],1)])]):e._e(),3==e.tab?i("div",{staticClass:"friendBar"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"friend",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 1)"}},[i("span",[e._v("申请")]),i("div",{staticClass:"friendlist"},[e.Arrow?i("img",{staticClass:"Noresult",attrs:{src:t(48611),alt:""}}):e._e(),e._l(e.friendInfo,(function(n){return i("div",{key:n.uid},[i("div",{staticClass:"friendName"},[i("img",{attrs:{src:n.userInfo.img,alt:""}}),i("div",{on:{click:function(t){return e.ToUserDetail(n.user.username)}}},[i("div",[e._v("昵称："+e._s(n.user.nickname))]),i("div",[e._v("账号："+e._s(n.user.username))])])]),i("div",{staticClass:"friendOther"},[i("div",{staticClass:"iconfont icon-add chat",on:{click:function(t){return e.applicationInfoAgree("agree",n.user.username)}}},[e._v("同意")]),i("div",{staticClass:"iconfont icon-chacha del",on:{click:function(t){return e.applicationInfoAgree("deny",n.user.username)}}},[e._v("哒咩")])])])}))],2),i("div",{staticClass:"pagonation"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":e.page.pageNumber,layout:"prev, pager, next,total",total:e.page.total},on:{"update:currentPage":function(n){return e.$set(e.page,"pageNumber",n)},"update:current-page":function(n){return e.$set(e.page,"pageNumber",n)},"current-change":function(n){return e.queryMyFriend("apply")}}})],1)])]):e._e(),i("bei-an")],1)},a=[],r=t(19868),s=t(6768),o=t(22996),u={components:{LoginQueryInfo:s.Z,BeiAn:o.Z},name:"FriendView",data:function(){return{title:"好友",bottomleft:{left:"0px"},Originbottomleft:{left:0},tab:1,friendInfo:{info:"",pageNumber:1,pageSize:10},page:{},friendlist:[],loading:!1,Arrow:!1,Arrow2:!1,Searchlist:[],searchinfo:{username:"",pageNumber:1,pageSize:5,total:0}}},computed:{userinfo:function(){return this.$store.state.loginUser}},methods:{toChat:function(e){this.$router.push({path:"/friend/chat",query:{username:e}})},DelFriend:function(e){var n=this;this.$confirm("是否删除["+e+"]",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r.Z.ajax("/user/auth/friendDelete",{username:e},(function(e){e.success&&n.$message.success("删除成功")}))})).catch((function(){n.$message.warning("取消")}))},applicationInfoAgree:function(e,n){var t=this;r.Z.ajax("/user/auth/friendAgree",{info:e,username:n},(function(e){e.success&&t.queryMyFriend("apply")}))},application:function(e){var n=this;r.Z.ajax("/user/auth/friend",{username:e},(function(e){n.$message.warning(e.success)}))},ToUserDetail:function(e){var n="";n=e==this.userinfo.tbUser.username?"Myself":"themself",this.$router.push({path:"/UserDetail",query:{what:n,username:e}})},SearchFriend:function(){var e=this;this.loading=!0,r.Z.ajax("/user/auth/findUserInfo",this.searchinfo,(function(n){e.Searchlist=n.list,e.searchinfo.pageNumber=n.page.pageNumber,e.searchinfo.pageSize=n.page.pageSize,e.searchinfo.total=n.page.total,0==n.list.length?e.Arrow2=!0:e.Arrow2=!1,e.loading=!1}))},queryMyFriend:function(e){var n=this;this.loading=!0,this.friendInfo.info=e,this.friendInfo.pageNumber=this.page.pageNumber,this.friendInfo.pageSize=this.page.pageSize,r.Z.ajax("/user/auth/friendQuery",this.friendInfo,(function(e){n.loading=!1,n.friendInfo=e.list,n.page=e.page,0==e.list.length?n.Arrow=!0:n.Arrow=!1}))},ChickLeft:function(e){var n=document.getElementById(e);this.bottomleft.left=n.offsetLeft+"px"},BackOringin:function(){this.bottomleft.left=this.Originbottomleft.left},ChangeOrigin:function(e){var n=document.getElementById(e);this.Originbottomleft.left=n.offsetLeft+"px"}},created:function(){this.queryMyFriend("friend")}},c=u,l=t(1001),f=(0,l.Z)(c,i,a,!1,null,"fc90adec",null),d=f.exports},48611:function(e,n,t){e.exports=t.p+"img/搜索无结果.dcf01b77.png"}}]);