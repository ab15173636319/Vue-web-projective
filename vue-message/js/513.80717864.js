"use strict";(self["webpackChunkvuecli_router_vuer"]=self["webpackChunkvuecli_router_vuer"]||[]).push([[513],{2513:function(e,s,t){t.r(s),t.d(s,{default:function(){return I}});var i=function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",[i("login-query-info"),i("div",{staticClass:"UserContainer"},[i("div",{staticClass:"UserTop"},[i("div",{staticClass:"img-userinfo"},[i("img",{attrs:{src:e.userinfo.img,alt:""}}),i("div",[i("h2",[e._v(e._s(e.user.nickname))]),e.TypeVisible?i("input",{directives:[{name:"model",rawName:"v-model",value:e.modiInfo,expression:"modiInfo"}],attrs:{type:"text",value:""},domProps:{value:e.modiInfo},on:{blur:function(s){return e.modiinfo()},input:function(s){s.target.composing||(e.modiInfo=s.target.value)}}}):i("div",[""!=e.userinfo.info?i("h4",[e._v(e._s(e.userinfo.info))]):i("h4",[e._v("这个人很懒，什么也没写QAQ~~")])])])])]),i("div",{staticClass:"navigation"},[i("div",{staticClass:"navigation-top",on:{mouseleave:function(s){return e.BackOringin()}}},[i("div",{staticClass:"navigation-left"},[i("div",{class:{active:1==e.tab},attrs:{id:"me"},on:{mouseover:function(s){return e.ChickLeft("me")},click:function(s){e.ChangeOrigin("me"),e.tab=1}}},[i("i",{staticClass:"iconfont icon-liuyanban"}),e._v("留言")]),i("div",{class:{active:2==e.tab},attrs:{id:"pl"},on:{mouseover:function(s){return e.ChickLeft("pl")},click:function(s){e.ChangeOrigin("pl"),e.tab=2}}},[i("i",{staticClass:"iconfont icon-pinglun"}),e._v("评论")]),i("div",{class:{active:3==e.tab},attrs:{id:"fs"},on:{mouseover:function(s){return e.ChickLeft("fs")},click:function(s){e.ChangeOrigin("fs"),e.tab=3}}},[i("i",{staticClass:"iconfont icon-dianzan1"}),e._v("我的粉丝")]),i("div",{class:{active:4==e.tab},attrs:{id:"gz"},on:{mouseover:function(s){return e.ChickLeft("gz")},click:function(s){e.ChangeOrigin("gz"),e.tab=4}}},[i("i",{staticClass:"iconfont icon-yiguanzhu"}),e._v("我的关注")])]),i("div",{staticClass:"navigation-right"},[i("div",[e._v(" 粉丝数"),i("div",[e._v(e._s(e.userotherinfo.followMe))])]),i("div",[e._v(" 关注数"),i("div",[e._v(e._s(e.userotherinfo.follow))])]),i("div",[e._v(" 获赞数"),i("div",[e._v(e._s(e.PariseCount))])])])]),i("div",{staticClass:"navigation-foot",style:e.bottomleft})]),i("div",{staticClass:"Container"},[i("div",{staticClass:"Container-left"},[1==e.tab?i("div",{staticClass:"infinite-list-wrapper",staticStyle:{overflow:"auto"}},[e.lengthIsZhro?i("img",{staticClass:"Noresult",attrs:{src:t(8611),alt:""}}):e._e(),i("ul",{staticClass:"list",attrs:{"infinite-scroll-disabled":"disabled"}},e._l(e.Mlist,(function(s){return i("li",{key:s.umid,staticClass:"list-item messageUser"},[i("img",{attrs:{src:s.userInfo.img,alt:""}}),i("div",[i("div",{staticClass:"message-name"},[i("div",[i("h3",[e._v(e._s(s.user.nickname))]),i("h6",[e._v(e._s(e._f("timer")(s.lastupdate)))])]),e.TypeVisible?i("div",[i("i",{staticClass:"iconfont icon-gengduo-shuxiang message-more",on:{click:function(t){e.DelClass=!0,e.id=s.umid}}}),s.umid==e.id?i("div",{staticClass:"message-del",class:{active:e.DelClass},on:{click:function(t){return e.DelMessage(s.umid)}}},[e._v("删除")]):e._e()]):e._e()]),i("div",{staticClass:"message-title"},[i("div",{on:{click:function(t){return e.MessageDetail(s.umid)}}},[e._v(e._s(s.title))])]),i("div",{staticClass:"message-option"},[i("i",{staticClass:"iconfont icon-dianzan dianzhan",class:{active:s.praise},on:{click:function(t){return e.PriseForMessage(s.umid)}}},[e._v(e._s(s.praiseCount))]),i("i",{staticClass:"iconfont icon-pinglun"},[e._v(e._s(s.replyCount))]),i("i",{staticClass:"iconfont icon-yanjing"},[e._v(e._s(s.hits))])])])])})),0),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.page.total},on:{"current-change":e.handleCurrentChange}})],1)]):e._e(),2==e.tab?i("div",{staticClass:"infinite-list-wrapper",staticStyle:{overflow:"auto"}},[e.lengthIsZhro2?i("img",{staticClass:"Noresult",attrs:{src:t(8611),alt:""}}):e._e(),i("ul",{staticClass:"list",attrs:{"infinite-scroll-disabled":"disabled"}},e._l(e.CommentList,(function(s){return i("li",{key:s.umrid,staticClass:"list-item messageUser"},[i("img",{attrs:{src:s.userInfo.img,alt:""}}),i("div",[i("div",{staticClass:"message-name"},[i("div",[i("h3",[e._v(e._s(s.user.nickname))]),i("h6",[e._v(e._s(e._f("timer")(s.lastupdate)))])]),e.TypeVisible?i("div",[i("i",{staticClass:"iconfont icon-gengduo-shuxiang message-more",on:{click:function(t){e.DelClass=!0,e.id=s.umrid}}}),s.umrid==e.id?i("div",{staticClass:"message-del",class:{active:e.DelClass},on:{click:function(t){return e.DelComment(s.umrid,s.info)}}},[e._v("删除")]):e._e()]):e._e()]),i("div",{staticClass:"message-title"},[i("div",{domProps:{innerHTML:e._s(s.info)},on:{click:function(t){return e.MessageDetail(s.umid)}}})]),i("div",{staticClass:"message-option"},[i("i",{staticClass:"iconfont icon-dianzan dianzhan",class:{active:s.praise},on:{click:function(t){return e.PriseForMessage(s.umid)}}},[e._v(e._s(s.praiseCount))])])])])})),0),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.CommentInfo.page.total},on:{"current-change":e.ChangeComment}})],1)]):e._e(),3==e.tab?i("div",{staticClass:"UserFans"},[i("div",{staticClass:"fanstitle"},[e._v("粉丝 ")]),e.lengthIsZhro3?i("img",{staticClass:"Noresult",attrs:{src:t(8611),alt:""}}):e._e(),e._m(0),e._l(e.FansList,(function(s){return i("div",{key:s.uid,staticClass:"fans"},[i("div",{staticClass:"fans2"},[i("div",{staticClass:"fansinfo"},[i("img",{attrs:{src:s.userInfo.img,alt:""},on:{click:function(t){return e.ToUserCebter(s.user.username)}}}),i("div",{staticClass:"fansname"},[i("div",{on:{click:function(t){return e.ToUserCebter(s.user.username)}}},[e._v(e._s(s.user.nickname))]),i("div",[e._v(e._s(s.userInfo.info))])])]),e.LoginUserInfo.tbUser.username!=s.user.username?i("div",{staticClass:"fansother"},[s.userOtherInfo.mineFollow?i("div",{staticClass:"eachotherfans",on:{click:function(t){return e.FllowUser(s.user.username)}}},[e._v("已互粉")]):i("div",{staticClass:"nofllow",attrs:{s:""},on:{click:function(t){return e.FllowUser(s.user.username)}}},[e._v("关注")])]):e._e()]),e._m(1,!0)])})),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.queryfansinfo.page.total},on:{"current-change":e.ChangeComment}})],1)],2):e._e(),4==e.tab?i("div",{staticClass:"UserFans"},[i("div",{staticClass:"fanstitle"},[e._v("我的关注 ")]),e.lengthIsZhro4?i("img",{staticClass:"Noresult",attrs:{src:t(8611),alt:""}}):e._e(),e._m(2),e._l(e.Fllowlist,(function(s){return i("div",{key:s.uid,staticClass:"fans"},[i("div",{staticClass:"fans2"},[i("div",{staticClass:"fansinfo"},[i("img",{attrs:{src:s.userInfo.img,alt:""},on:{click:function(t){return e.ToUserCebter(s.user.username)}}}),i("div",{staticClass:"fansname"},[i("div",{on:{click:function(t){return e.ToUserCebter(s.user.username)}}},[e._v(e._s(s.user.nickname))]),i("div",[e._v(e._s(s.userInfo.info))])])]),e.LoginUserInfo.tbUser.username!=s.user.username?i("div",{staticClass:"fansother"},[s.userOtherInfo.mineFollow||e.TypeVisible?i("div",{staticClass:"eachotherfans",on:{click:function(t){return e.FllowUser(s.user.username)}}},[e._v("已互粉")]):i("div",{staticClass:"nofllow",attrs:{s:""},on:{click:function(t){return e.FllowUser(s.user.username)}}},[e._v("关注")])]):e._e()]),e._m(3,!0)])})),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next",total:e.queryfllow.page.total},on:{"current-change":e.ChangeComment}})],1)],2):e._e()]),i("div",{staticClass:"Container-right"},[i("div",[i("div",[e._v("个人资料")]),i("div",{on:{click:function(s){return e.tomodiyi()}}},[e._v("修改信息")])]),i("div",[i("div",[e._v("账号："+e._s(e.user.username))]),i("div",[e._v("邮箱："+e._s(e.userinfo.email))]),i("div",[e._v("电话："+e._s(e.userinfo.phone))]),i("div",[e._v("QQ："+e._s(e.userinfo.qq))]),i("div",[e._v("微信："+e._s(e.userinfo.wechat))])])])])]),i("bei-an")],1)},n=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fonsbottomline"},[t("div")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fonsbottomline"},[t("div")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fonsbottomline"},[t("div")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fonsbottomline"},[t("div")])}],a=t(9376),o=t(6369);t(1703),t(6699);const r=o["default"].prototype.$isServer,l=(r||Number(document.documentMode),function(){return!r&&document.addEventListener?function(e,s,t){e&&s&&t&&e.addEventListener(s,t,!1)}:function(e,s,t){e&&s&&t&&e.attachEvent("on"+s,t)}}());(function(){!r&&document.removeEventListener})();const u=[],c="@@clickoutsideContext";let m,f=0;function g(e,s,t){return function(i={},n={}){!(t&&t.context&&i.target&&n.target)||e.contains(i.target)||e.contains(n.target)||e===i.target||t.context.popperElm&&(t.context.popperElm.contains(i.target)||t.context.popperElm.contains(n.target))||(s.expression&&e[c].methodName&&t.context[e[c].methodName]?t.context[e[c].methodName]():e[c].bindingFn&&e[c].bindingFn())}}!o["default"].prototype.$isServer&&l(document,"mousedown",(e=>m=e)),!o["default"].prototype.$isServer&&l(document,"mouseup",(e=>{u.forEach((s=>s[c].documentHandler(e,m)))}));var d={bind(e,s,t){u.push(e);const i=f++;e[c]={id:i,documentHandler:g(e,s,t),methodName:s.expression,bindingFn:s.value}},update(e,s,t){e[c].documentHandler=g(e,s,t),e[c].methodName=s.expression,e[c].bindingFn=s.value},unbind(e){let s=u.length;for(let t=0;t<s;t++)if(u[t][c].id===e[c].id){u.splice(t,1);break}delete e[c]}},p=t(9868),v=t(2996);let h;var C={directives:{Clickoutside:d},components:{LoginQueryInfo:a.Z,BeiAn:v.Z},name:"UserDetail",data(){return{title:"用户详细信息",Type:this.$route.query.what,username:this.$route.query.username,bottomleft:{left:"0px",width:"50px"},Originbottomleft:{left:"0px",width:"50px"},tab:1,user:{},userinfo:{},userotherinfo:{},modiInfo:"编辑个性签名吧",PariseCount:0,Mlist:"",id:0,DelClass:!1,lengthIsZhro:!1,lengthIsZhro2:!1,lengthIsZhro3:!1,lengthIsZhro4:!1,page:{pageSize:5,pageNumber:1},CommentList:[],CommentInfo:{page:{pageSize:5,pageNumber:1}},TypeVisible:!1,pageNumber:1,FansList:[],queryfansinfo:{page:{pageSize:5,pageNumber:1}},Fllowlist:[],queryfllow:{page:{pageSize:5,pageNumber:1}}}},computed:{LoginUserInfo(){return this.$store.state.loginUser}},mounted(){document.addEventListener("click",(e=>{"iconfont icon-gengduo-shuxiang message-more"!=e.target.className&&(h.DelClass=!1)})),0==h.LoginUserInfo.isLogin&&h.$router.push("/Login")},beforeDestroy(){window.removeEventListener("click",(()=>{}),!0)},methods:{tomodiyi(){this.$router.push({path:"/user",query:{what:"setting"}})},ToUserCebter(e){h.$router.push({path:"/Jump",query:{what:"themself",username:e}})},FllowUser(e){p.Z.ajax("/message/followUser",{username:e},(()=>{h.QueryUserFans()}))},QueryFllow(){h.queryfllow["username"]=h.username,h.queryfllow.pageNumber=h.queryfllow.page.pageNumber,h.queryfllow.pageSize=h.queryfllow.page.pageSize,p.Z.ajax("/message/queryFollowUserListByName",h.queryfllow,(e=>{h.Fllowlist=e.list,0==e.list&&(h.lengthIsZhro4=!0)}))},QueryUserFans(){h.queryfansinfo["username"]=h.username,h.queryfansinfo.pageNumber=h.queryfansinfo.page.pageNumber,h.queryfansinfo.pageSize=h.queryfansinfo.page.pageSize,p.Z.ajax("/message/queryFollowMeUserListByName",h.queryfansinfo,(e=>{h.FansList=e.list,0==e.list&&(h.lengthIsZhro3=!0)}))},DelComment(e,s){this.$confirm('此操作将永久删除该"'+s+'"评论, 是否继续?',{confirmButtonText:"就算玉皇大帝来了都救不了",cancelButtonText:"我回心转意了",type:"warning"}).then((()=>{p.Z.ajax("/message/manage/deletUserMessageReply",{umrid:e},(e=>{this.$message({type:"warning",message:e.message}),h.QueryUserComment()}))})).catch((()=>{this.$message({type:"success",message:"已取消删除"})}))},QueryUserComment(){h.CommentInfo["username"]=h.username,h.CommentInfo.pageNumber=h.CommentInfo.page.pageNumber,h.CommentInfo.pageSize=h.CommentInfo.page.pageSize,p.Z.ajax("/message/queryReplyByUsername",h.CommentInfo,(e=>{0==e.list.length&&(h.lengthIsZhro2=!0),h.CommentList=e.list,h.CommentInfo.page=e.page}))},ChangeComment(e){h.CommentInfo.page.pageNumber=e,h.QueryUserComment()},handleCurrentChange(e){h.page.pageNumber=e,1==h.TypeVisible?h.QueryUserAllMessage():h.QueryPorintMessage()},PriseForMessage(e){1==h.LoginUserInfo.isLogin?(console.log(e),p.Z.ajax("/message/support",{umid:e},(e=>{e.success?1==h.TypeVisible?h.QueryUserAllMessage():h.QueryPorintMessage():h.$message.error(e.message)}))):h.LoginVisible=!0},MessageDetail(e){h.$router.push({path:"/MessageDetail",query:{umid:e}})},DelMessage(e){p.Z.ajax("/message/manage/deletUserMessage",{umid:e},(e=>{e.success?h.QueryUserAllMessage():h.$message.error(e.message)}))},QueryUserAllMessage(){1==h.TypeVisible&&p.Z.ajax("/message/manage/queryUserAll",h.page,(e=>{h.Mlist=e.list,h.page=e.page,0==h.Mlist.length&&(h.lengthIsZhro=!0)}))},QueryPorintMessage(){if(0==h.TypeVisible){let e={username:h.username,pageSize:h.page.pageSize,pageNumber:h.page.pageNumber};p.Z.ajax("/message/queryAll",e,(e=>{h.Mlist=e.list,h.page=e.page,0==h.Mlist.length&&(h.lengthIsZhro=!0)}))}},FindUser(){0==h.TypeVisible&&p.Z.ajax("/user/auth/getUserInfoByName",{username:h.username},(e=>{console.log("User:",e),h.user=e.tbUser,h.userinfo=e.tbUserInfo,h.userotherinfo=e.userOtherInfo,h.PariseCount=h.userotherinfo.supporteMessage+h.userotherinfo.supporteReply}))},QueryUserIfTypeIsMyself(){1==this.TypeVisible&&(h.user=h.LoginUserInfo.tbUser,h.userinfo=h.LoginUserInfo.tbUserInfo,h.userotherinfo=h.LoginUserInfo.userOtherInfo,h.PariseCount=h.userotherinfo.supporteMessage+h.userotherinfo.supporteReply)},queryType(){"Myself"==h.Type?h.TypeVisible=!0:h.TypeVisible=!1},ChickLeft(e){let s=document.getElementById(e);h.bottomleft.left=s.offsetLeft-16+"px",h.bottomleft.width=s.offsetWidth+"px"},BackOringin(){h.bottomleft.left=h.Originbottomleft.left,h.bottomleft.width=h.Originbottomleft.width},ChangeOrigin(e){let s=document.getElementById(e);h.Originbottomleft.left=s.offsetLeft-16+"px",h.Originbottomleft.width=s.offsetWidth+"px"},showinfo(){h.modiInfo=h.LoginUserInfo.tbUserInfo.info},modiinfo(){p.Z.ajax("/user/auth/updateUserInfo",{info:h.modiInfo},(function(){h.$store.dispatch("updateUserInfo")}))}},created(){h=this,h.queryType(),h.QueryUserAllMessage(),h.QueryPorintMessage(),h.QueryUserIfTypeIsMyself(),h.FindUser(),h.showinfo(),h.QueryUserComment(),h.QueryUserFans(),h.QueryFllow()}},y=C,_=t(1001),b=(0,_.Z)(y,i,n,!1,null,"12e0d35e",null),I=b.exports},8611:function(e,s,t){e.exports=t.p+"img/搜索无结果.dcf01b77.png"}}]);